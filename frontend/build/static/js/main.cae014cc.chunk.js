(this.webpackJsonpproduct=this.webpackJsonpproduct||[]).push([[0],{123:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=a(10),s=a(79),i=a(33),d=a(34),u=a(35),p=a(37),m=a(36),h=a(44),g=a.n(h),f=(a(63),a(21)),E=a.n(f),b=a(170),C=a(158),y=a(159),v=a(54),P=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState(Object(i.a)({},e.target.name,e.target.value))},n.login=function(){var e=g()(n.state.password).toString();v.post("http://localhost:2000/login",{username:n.state.username,password:e}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",e.data.id),n.props.history.push("/dashboard")})).catch((function(e){e.response&&e.response.data&&e.response.data.errorMessage&&E()({text:e.response.data.errorMessage,icon:"error",type:"error"})}))},n.state={username:"",password:""},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"200px"}},r.a.createElement("div",null,r.a.createElement("h2",null,"Login")),r.a.createElement("div",null,r.a.createElement(b.a,{class:"standard-basic",type:"text",autoComplete:"off",name:"username",value:this.state.username,onChange:this.onChange,placeholder:"User Name",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{class:"standard-basic",type:"password",autoComplete:"off",name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.a,{className:"button_style",variant:"contained",color:"primary",size:"small",disabled:""===this.state.username&&""===this.state.password,onClick:this.login},"Login")," \xa0\xa0\xa0\xa0\xa0",r.a.createElement(y.a,{href:"/register"},"Register")))}}]),a}(r.a.Component),k=a(54),w=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState(Object(i.a)({},e.target.name,e.target.value))},n.register=function(){var e=g()(n.state.password).toString();k.post("http://localhost:2000/register",{username:n.state.username,password:e}).then((function(e){E()({text:e.data.title,icon:"success",type:"success"}),n.props.history.push("/")})).catch((function(e){E()({text:e.response.data.errorMessage,icon:"error",type:"error"})}))},n.state={username:"",password:"",confirm_password:""},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"200px"}},r.a.createElement("div",null,r.a.createElement("h2",null,"Register")),r.a.createElement("div",null,r.a.createElement(b.a,{id:"standard-basic",type:"text",autoComplete:"off",name:"username",value:this.state.username,onChange:this.onChange,placeholder:"User Name",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"password",autoComplete:"off",name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"password",autoComplete:"off",name:"confirm_password",value:this.state.confirm_password,onChange:this.onChange,placeholder:"Confirm Password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.a,{className:"button_style",variant:"contained",color:"primary",size:"small",disabled:""===this.state.username&&""===this.state.password,onClick:this.register},"Register")," \xa0\xa0\xa0\xa0\xa0",r.a.createElement(y.a,{href:"/"},"Login")))}}]),a}(r.a.Component),S=a(160),O=a(173),x=a(161),q=a(162),N=a(163),j=a(164),M=a(165),_=a(166),D=a(167),I=a(168),z=a(169),F=a(171),A=a(54),L=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=localStorage.getItem("token");t?e.setState({token:t},(function(){e.getProduct()})):e.props.history.push("/login")},e.getProduct=function(){e.setState({loading:!0});var t="?";t="".concat(t,"page=").concat(e.state.page),e.state.search&&(t="".concat(t,"&search=").concat(e.state.search)),A.get("http://localhost:2000/get-product".concat(t),{headers:{token:e.state.token}}).then((function(t){e.setState({loading:!1,products:t.data.products,pages:t.data.pages})})).catch((function(t){E()({text:t.response.data.errorMessage,icon:"error",type:"error"}),e.setState({loading:!1,products:[],pages:0},(function(){}))}))},e.deleteProduct=function(t){A.post("http://localhost:2000/delete-product",{id:t},{headers:{"Content-Type":"application/json",token:e.state.token}}).then((function(t){E()({text:t.data.title,icon:"success",type:"success"}),e.setState({page:1},(function(){e.pageChange(null,1)}))})).catch((function(e){E()({text:e.response.data.errorMessage,icon:"error",type:"error"})}))},e.pageChange=function(t,a){e.setState({page:a},(function(){e.getProduct()}))},e.logOut=function(){localStorage.setItem("token",null),e.props.history.push("/")},e.onChange=function(t){t.target.files&&t.target.files[0]&&t.target.files[0].name&&e.setState({fileName:t.target.files[0].name},(function(){})),e.setState(Object(i.a)({},t.target.name,t.target.value),(function(){})),"search"===t.target.name&&e.setState({page:1},(function(){e.getProduct()}))},e.addProduct=function(){var t=document.querySelector("#fileInput"),a=new FormData;a.append("file",t.files[0]),a.append("name",e.state.name),a.append("desc",e.state.desc),a.append("discount",e.state.discount),a.append("price",e.state.price),A.post("http://localhost:2000/add-product",a,{headers:{"content-type":"multipart/form-data",token:e.state.token}}).then((function(t){E()({text:t.data.title,icon:"success",type:"success"}),e.handleProductClose(),e.setState({name:"",desc:"",discount:"",price:"",file:null,page:1},(function(){e.getProduct()}))})).catch((function(t){E()({text:t.response.data.errorMessage,icon:"error",type:"error"}),e.handleProductClose()}))},e.updateProduct=function(){var t=document.querySelector("#fileInput"),a=new FormData;a.append("id",e.state.id),a.append("file",t.files[0]),a.append("name",e.state.name),a.append("desc",e.state.desc),a.append("discount",e.state.discount),a.append("price",e.state.price),A.post("http://localhost:2000/update-product",a,{headers:{"content-type":"multipart/form-data",token:e.state.token}}).then((function(t){E()({text:t.data.title,icon:"success",type:"success"}),e.handleProductEditClose(),e.setState({name:"",desc:"",discount:"",price:"",file:null},(function(){e.getProduct()}))})).catch((function(t){E()({text:t.response.data.errorMessage,icon:"error",type:"error"}),e.handleProductEditClose()}))},e.handleProductOpen=function(){e.setState({openProductModal:!0,id:"",name:"",desc:"",price:"",discount:"",fileName:""})},e.handleProductClose=function(){e.setState({openProductModal:!1})},e.handleProductEditOpen=function(t){e.setState({openProductEditModal:!0,id:t._id,name:t.name,desc:t.desc,price:t.price,discount:t.discount,fileName:t.image})},e.handleProductEditClose=function(){e.setState({openProductEditModal:!1})},e.state={token:"",openProductModal:!1,openProductEditModal:!1,id:"",name:"",desc:"",price:"",discount:"",file:"",fileName:"",page:1,search:"",products:[],pages:0,loading:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.loading&&r.a.createElement(S.a,{size:40}),r.a.createElement("div",null,r.a.createElement("h2",null,"Dashboard"),r.a.createElement(C.a,{className:"button_style",variant:"contained",color:"primary",size:"small",onClick:this.handleProductOpen},"Add Product"),r.a.createElement(C.a,{className:"button_style",variant:"contained",size:"small",onClick:this.logOut},"Log Out")),r.a.createElement(O.a,{open:this.state.openProductEditModal,onClose:this.handleProductClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(x.a,{id:"alert-dialog-title"},"Edit Product"),r.a.createElement(q.a,null,r.a.createElement(b.a,{id:"standard-basic",type:"text",autoComplete:"off",name:"name",value:this.state.name,onChange:this.onChange,placeholder:"Product Name",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"text",autoComplete:"off",name:"desc",value:this.state.desc,onChange:this.onChange,placeholder:"Description",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"number",autoComplete:"off",name:"price",value:this.state.price,onChange:this.onChange,placeholder:"Price",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"number",autoComplete:"off",name:"discount",value:this.state.discount,onChange:this.onChange,placeholder:"Discount",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",component:"label"}," Upload",r.a.createElement("input",{type:"file",accept:"image/*",name:"file",value:this.state.file,onChange:this.onChange,id:"fileInput",placeholder:"File",hidden:!0})),"\xa0",this.state.fileName),r.a.createElement(N.a,null,r.a.createElement(C.a,{onClick:this.handleProductEditClose,color:"primary"},"Cancel"),r.a.createElement(C.a,{disabled:""===this.state.name||""===this.state.desc||""===this.state.discount||""===this.state.price,onClick:function(t){return e.updateProduct()},color:"primary",autoFocus:!0},"Edit Product"))),r.a.createElement(O.a,{open:this.state.openProductModal,onClose:this.handleProductClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(x.a,{id:"alert-dialog-title"},"Add Product"),r.a.createElement(q.a,null,r.a.createElement(b.a,{id:"standard-basic",type:"text",autoComplete:"off",name:"name",value:this.state.name,onChange:this.onChange,placeholder:"Product Name",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"text",autoComplete:"off",name:"desc",value:this.state.desc,onChange:this.onChange,placeholder:"Description",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"number",autoComplete:"off",name:"price",value:this.state.price,onChange:this.onChange,placeholder:"Price",required:!0}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"standard-basic",type:"number",autoComplete:"off",name:"discount",value:this.state.discount,onChange:this.onChange,placeholder:"Discount",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",component:"label"}," Upload",r.a.createElement("input",{type:"file",accept:"image/*",name:"file",value:this.state.file,onChange:this.onChange,id:"fileInput",placeholder:"File",hidden:!0,required:!0})),"\xa0",this.state.fileName),r.a.createElement(N.a,null,r.a.createElement(C.a,{onClick:this.handleProductClose,color:"primary"},"Cancel"),r.a.createElement(C.a,{disabled:""===this.state.name||""===this.state.desc||""===this.state.discount||""===this.state.price||null===this.state.file,onClick:function(t){return e.addProduct()},color:"primary",autoFocus:!0},"Add Product"))),r.a.createElement("br",null),r.a.createElement(j.a,null,r.a.createElement(b.a,{id:"standard-basic",type:"search",autoComplete:"off",name:"search",value:this.state.search,onChange:this.onChange,placeholder:"Search by product name",required:!0}),r.a.createElement(M.a,{"aria-label":"simple table"},r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(I.a,{align:"center"},"Name"),r.a.createElement(I.a,{align:"center"},"Image"),r.a.createElement(I.a,{align:"center"},"Description"),r.a.createElement(I.a,{align:"center"},"Price"),r.a.createElement(I.a,{align:"center"},"Discount"),r.a.createElement(I.a,{align:"center"},"Action"))),r.a.createElement(z.a,null,this.state.products.map((function(t){return r.a.createElement(D.a,{key:t.name},r.a.createElement(I.a,{align:"center",component:"th",scope:"row"},t.name),r.a.createElement(I.a,{align:"center"},r.a.createElement("img",{src:"http://localhost:2000/".concat(t.image),alt:"",width:"70",height:"70"})),r.a.createElement(I.a,{align:"center"},t.desc),r.a.createElement(I.a,{align:"center"},t.price),r.a.createElement(I.a,{align:"center"},t.discount),r.a.createElement(I.a,{align:"center"},r.a.createElement(C.a,{className:"button_style",variant:"outlined",color:"primary",size:"small",onClick:function(a){return e.handleProductEditOpen(t)}},"Edit"),r.a.createElement(C.a,{className:"button_style",variant:"outlined",color:"secondary",size:"small",onClick:function(a){return e.deleteProduct(t._id)}},"Delete")))})))),r.a.createElement("br",null),r.a.createElement(F.a,{count:this.state.pages,page:this.state.page,onChange:this.pageChange,color:"primary"})))}}]),a}(n.Component);a(123);l.a.render(r.a.createElement(s.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:P}),r.a.createElement(c.a,{exact:!0,path:"/register",component:w}),r.a.createElement(c.a,{path:"/dashboard",component:L}))),document.getElementById("root"))},92:function(e,t,a){e.exports=a(125)},97:function(e,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.cae014cc.chunk.js.map